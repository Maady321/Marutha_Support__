<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Marutha Palliative</title>
    <!-- Fonts & Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Modular CSS -->
    <link rel="stylesheet" href="../static/css/base.css" />
    <link rel="stylesheet" href="../static/css/components.css" />
    <link rel="stylesheet" href="../static/css/dashboard.css" />
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <a href="dashboard_patient.html" class="sidebar-brand">
          <img src="../static/images/logo.png" alt="Marutha Support Logo" />
          <span>Marutha Support</span>
        </a>

        <nav class="sidebar-nav">
          <a href="dashboard_patient.html" class="sidebar-link active">
            <i class="fas fa-th-large"></i>
            Dashboard
          </a>
          <a
            href="manage_health_patient.html#appointments"
            class="sidebar-link"
          >
            <i class="fas fa-calendar-alt"></i>
            Appointments
          </a>
          <a href="manage_health_patient.html#logs" class="sidebar-link">
            <i class="fas fa-notes-medical"></i>
            Health Logs
          </a>
          <a href="chat.html" class="sidebar-link">
            <i class="fas fa-comment-medical"></i>
            Messages
          </a>
          <div style="flex-grow: 1"></div>
          <a href="manage_profile_patient.html#view" class="sidebar-link">
            <i class="fas fa-cog"></i>
            Settings
          </a>
          <a
            href="login.html"
            class="sidebar-link"
            style="color: var(--danger)"
          >
            <i class="fas fa-sign-out-alt"></i>
            Logout
          </a>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Header -->
        <header class="top-header">
          <div>
            <h2
              id="greeting"
              style="
                font-size: 2rem;
                margin-bottom: 8px;
                display: flex;
                align-items: center;
                gap: 12px;
              "
            >
              <i
                class="fas fa-sun"
                style="color: #f59e0b; font-size: 1.8rem"
              ></i>
              Welcome back
            </h2>
            <p style="color: var(--text-muted); font-weight: 500">
              Your comfort and care summary for today.
            </p>
          </div>
          <div class="profile-snippet">
            <div style="text-align: right">
              <div
                id="user-name-display"
                style="
                  font-weight: 700;
                  color: var(--medical-blue);
                  font-size: 0.95rem;
                "
              >
                ...
              </div>
              <div
                id="user-stage-display"
                style="font-size: 0.75rem; color: var(--text-light)"
              >
                ...
              </div>
            </div>
            <div id="user-avatar-display" class="profile-pic">...</div>
          </div>
        </header>

        <!-- Stats Grid -->
        <section class="stats-grid">
          <div class="stat-card">
            <div class="stat-title">Daily Milestone</div>
            <div class="stat-value" id="stat-milestone">--</div>
          </div>
          <div
            class="stat-card"
            style="border-left: 4px solid var(--hope-green)"
          >
            <div class="stat-title">Comfort Level</div>
            <div
              class="stat-value"
              style="color: var(--hope-green)"
              id="stat-comfort"
            >
              --
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Next Visit</div>
            <div
              class="stat-value"
              style="font-size: 1.4rem"
              id="stat-next-visit"
            >
              --
            </div>
          </div>
          <div class="stat-card" style="border-left: 4px solid #f59e0b">
            <div class="stat-title" style="color: #d97706">Care Needs</div>
            <div class="stat-value" style="color: #b45309" id="stat-care-needs">
              --
            </div>
          </div>
        </section>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
          <!-- Left Column -->
          <div style="display: flex; flex-direction: column; gap: 40px">
            <!-- Health Trends -->
            <div class="card" style="padding: 40px">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 32px;
                "
              >
                <div>
                  <h3 style="margin-bottom: 4px">Health Trends</h3>
                  <p
                    style="
                      font-size: 0.85rem;
                      color: var(--text-light);
                      font-weight: 400;
                    "
                  >
                    Your recent comfort levels
                  </p>
                </div>
                <select
                  style="
                    width: auto;
                    padding: 10px 20px;
                    font-size: 0.85rem;
                    border-color: var(--medical-blue-light);
                  "
                >
                  <option>Last 7 Days</option>
                  <option>Last 30 Days</option>
                </select>
              </div>

              <!-- Refined Chart -->
              <div class="chart-container">
                <!-- Fetched via JS -->
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-top: 20px;
                  font-size: 0.8rem;
                  color: var(--text-light);
                  font-weight: 500;
                  padding: 0 8px;
                "
              >
                <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span
                ><span>Fri</span><span>Sat</span
                ><span style="color: var(--medical-blue)">Today</span>
              </div>
            </div>

            <!-- Appointments -->
            <div class="card" style="padding: 40px">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 32px;
                "
              >
                <h3>Upcoming Care</h3>
                <a
                  href="manage_health_patient.html#find-doctor"
                  class="btn btn-outline-lavender"
                  style="padding: 10px 24px; font-size: 0.85rem"
                  >+ New Visit</a
                >
              </div>
              <div
                id="appointments-container"
                style="display: flex; flex-direction: column; gap: 20px"
              ></div>
            </div>
          </div>

          <!-- Right Column -->
          <div style="display: flex; flex-direction: column; gap: 40px">
            <!-- Quick Actions -->
            <div class="card" style="padding: 40px">
              <h3 style="margin-bottom: 24px">Quick Actions</h3>
              <div style="display: flex; flex-direction: column; gap: 16px">
                <a
                  href="manage_health_patient.html#logs"
                  class="btn btn-primary"
                  style="
                    justify-content: flex-start;
                    gap: 16px;
                    padding: 18px 24px;
                  "
                >
                  <i class="fas fa-plus"></i> Log Comfort Level
                </a>
                <a
                  href="chat.html"
                  class="btn btn-outline-lavender"
                  style="
                    justify-content: flex-start;
                    gap: 16px;
                    padding: 18px 24px;
                  "
                >
                  <i class="fas fa-comment"></i> Message Care Team
                </a>
              </div>
            </div>

            <!-- Emergency Box -->
            <div class="card emergency-card" style="padding: 40px">
              <h3 style="font-size: 1.4rem">Urgent Assistance</h3>
              <p
                style="
                  font-size: 0.95rem;
                  line-height: 1.6;
                  margin-bottom: 32px;
                "
              >
                We are here for you 24/7. Click below for immediate support.
              </p>
              <a
                href="tel:1800MARUTHA"
                class="btn"
                style="
                  background: white;
                  color: var(--medical-blue);
                  width: 100%;
                  box-shadow: 0 4px 12px rgba(45, 74, 138, 0.1);
                  font-weight: 700;
                "
              >
                <i class="fas fa-phone-alt" style="margin-right: 12px"></i>
                1-800-MARUTHA
              </a>
            </div>

            <!-- Daily Thought (New Warm Element) -->
            <!-- Daily Sunshine (New Warm Element) -->
            <div
              class="card fade-in delay-2"
              style="
                padding: 40px;
                background: linear-gradient(
                  135deg,
                  var(--amber-soft),
                  var(--sunshine-yellow)
                );
                border: 1px solid rgba(251, 191, 36, 0.2);
                text-align: center;
              "
            >
              <i
                class="fas fa-sun"
                style="
                  font-size: 2rem;
                  color: #d97706;
                  margin-bottom: 16px;
                  opacity: 0.8;
                "
              ></i>
              <h4
                style="
                  color: #92400e;
                  margin-bottom: 12px;
                  font-family: &quot;Poppins&quot;, sans-serif;
                "
              >
                Daily Sunshine
              </h4>
              <p
                style="
                  font-style: italic;
                  color: #b45309;
                  line-height: 1.6;
                  font-weight: 500;
                "
              >
                "Every moment of comfort is a victory worth celebrating."
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="../static/js/app.js"></script>
    <script src="../static/js/dashboard_patient.js"></script>
  </body>
</html>
