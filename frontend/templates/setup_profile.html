<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Profile - Marutha Support</title>
    <link rel="stylesheet" href="../static/css/style.css" />
    <style>
      body {
        overflow-x: hidden;
      }
    </style>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Patient Sidebar -->
      <aside class="sidebar">
        <a
          href="dashboard.html"
          class="sidebar-brand"
          style="display: flex; align-items: center; gap: 0.75rem"
        >
          <img
            src="../static/images/logo.png"
            alt="Marutha Support Logo"
            style="width: 40px; height: 40px; object-fit: contain"
          />
          <span
            style="
              background: linear-gradient(
                135deg,
                #7ed957 0%,
                #34d399 35%,
                #22d3ee 65%,
                #00a6e8 100%
              );
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
              font-weight: 700;
            "
            >Marutha Support</span
          >
        </a>

        <nav class="sidebar-nav">
          <a href="dashboard.html" class="sidebar-link">Dashboard</a>
          <a href="doctors.html" class="sidebar-link">Find Doctor</a>
          <a href="logs.html" class="sidebar-link">Health Logs</a>
          <a href="chat.html" class="sidebar-link">Messages</a>
          <div style="flex-grow: 1"></div>
          <a href="setup_profile.html" class="sidebar-link active"
            >My Profile</a
          >
          <a href="login.html" class="sidebar-link" style="color: var(--danger)"
            >Logout</a
          >
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <div class="container" style="max-width: 600px; margin: 4rem auto">
          <!-- Centered Form -->
          <div class="auth-box glass fade-in">
            <h1 class="text-center" style="margin-bottom: 0.5rem">
              Edit Profile
            </h1>
            <p
              class="text-center"
              style="color: var(--text-muted); margin-bottom: 2rem"
            >
              Update your personal details
            </p>

            <form action="dashboard.html">
              <div class="form-group">
                <label for="name">Full Name</label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  required
                  placeholder="John Doe"
                />
              </div>

              <div class="form-group">
                <label for="age">Age</label>
                <input
                  type="number"
                  id="age"
                  name="age"
                  required
                  placeholder="35"
                />
              </div>
              <div class="form-group">
                <label for="stage">Current Stage / Condition</label>
                <input
                  type="text"
                  id="stage"
                  name="stage"
                  required
                  placeholder="e.g. Stage 2, Early Onset..."
                />
              </div>

              <div style="display: flex; gap: 1rem; margin-top: 2rem">
                <button type="submit" class="btn" style="flex: 1">
                  Save Changes
                </button>
                <a
                  href="dashboard.html"
                  class="btn btn-secondary"
                  style="flex: 1; text-align: center"
                  >Cancel</a
                >
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>

    <script>
      // Route to correct dashboard based on stored role
      document.querySelector("form").addEventListener("submit", function (e) {
        e.preventDefault();
        const role = localStorage.getItem("userRole") || "patient";

        if (role === "doctor") {
          window.location.href = "dashboard_doctor.html";
        } else if (role === "volunteer") {
          window.location.href = "dashboard_volunteer.html";
        } else {
          window.location.href = "dashboard.html";
        }
      });
    </script>
  </body>
</html>
